<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Admin Dashboard | ICMMCS 2025</title>
	<meta name="description" content="Admin dashboard for managing the ICMMCS 2025 conference.">
	<meta property="og:image" content="../assets/img/sponsors_logo/3.png" />
	<meta property="og:title" content="Admin Dashboard | ICMMCS 2025" />
	<meta property="og:description" content="Admin dashboard for managing the ICMMCS 2025 conference." />
	<meta property="og:url" content="https://www.icmmcs.org/admin/adminDashboard.html" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Admin Dashboard | ICMMCS 2025" />
	<meta name="twitter:description" content="Admin dashboard for managing the ICMMCS 2025 conference." />
	<meta name="twitter:image" content="../assets/img/sponsors_logo/3.png" />

	<!--=====FAB ICON=======-->
	<link rel="shortcut icon" href="../assets/img/sponsors_logo/favicon.png" />

	<!--===== CSS LINK =======-->
	<link rel="stylesheet" href="../assets/css/vendor/bootstrap.min.css" />
	<link rel="stylesheet" href="../assets/css/vendor/aos.css" />
	<link rel="stylesheet" href="../assets/css/vendor/fontawesome.css" />
	<link rel="stylesheet" href="../assets/css/vendor/magnific-popup.css" />
	<link rel="stylesheet" href="../assets/css/vendor/mobile.css" />
	<link rel="stylesheet" href="../assets/css/vendor/owlcarousel.min.css" />
	<link rel="stylesheet" href="../assets/css/vendor/sidebar.css" />
	<link rel="stylesheet" href="../assets/css/vendor/slick-slider.css" />
	<link rel="stylesheet" href="../assets/css/vendor/nice-select.css" />
	<link rel="stylesheet" href="../assets/css/vendor/odometer.css" />
	<link rel="stylesheet" href="../assets/css/main.css" />

	<!--=====  JS SCRIPT LINK =======-->
	<script src="../assets/js/vendor/jquery-3.7.1.min.js"></script>

	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
			background-color: #f4f4f9;
		}

		.login-container {
			max-width: 300px;
			margin: 100px auto;
			padding: 20px;
			background-color: #fff;
			border-radius: 5px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
			text-align: center;
		}

		input {
			width: 100%;
			padding: 10px;
			margin: 10px 0;
			border: 1px solid #ddd;
			border-radius: 5px;
		}

		button {
			padding: 10px 20px;
			background-color: #333;
			color: #fff;
			border: none;
			border-radius: 5px;
			cursor: pointer;
		}

		header {
			background-color: #333;
			color: #fff;
			padding: 10px 0;
			text-align: center;
		}

		main {
			padding: 20px;
		}

		.user-list {
			max-height: 600px;
			overflow-y: auto;
		}

		.referral-info {
			background-color: #f8f9fa;
			padding: 20px;
			border-radius: 10px;
			margin-bottom: 20px;
		}

		.copy-button {
			cursor: pointer;
		}
	</style>
</head>

<body class="homepage4-body">
	<!--===== PRELOADER STARTS =======-->
	<div class="preloader">
		<div class="loading-container">
			<div class="loading"></div>
			<div id="loading-icon"><img src="../assets/img/sponsors_logo/favicon.png" alt="" /></div>
		</div>
	</div>
	<!--===== PRELOADER ENDS =======-->

	<!--===== PAGE PROGRESS START=======-->
	<div class="paginacontainer">
		<div class="progress-wrap">
			<svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
				<path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
			</svg>
		</div>
	</div>
	<!--===== PAGE PROGRESS END=======-->

	<!--=====HEADER START=======-->
	<header>
		<div class="header-area homepage4 header header-sticky d-none d-lg-block" id="header">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="header-elements">
							<a href="../index.html">
								<div class="site-logo">
									<img src="../assets/img/sponsors_logo/new_logo.jpg" alt="logo">
								</div>
							</a>
							<div class="main-menu">
								<ul>
									<li>
										<a href="../index.html">Home </a>
									</li>
									<!-- <li>
										<a href="../#">Conference <i class="fa-solid fa-angle-down"></i></a>
										<ul class="dropdown-padding">
											<li><a href="../about.html">About Conference</a></li>
											<li><a href="../speakers.html">Our Speakers</a></li>
											<li><a href="../agenda.html">Conference Agenda</a></li>
											<li><a href="../faq.html">FAQs</a></li>
										</ul>
									</li> -->
									<li>
										<a href="../#">Conference <i class="fa-solid fa-angle-down"></i></a>
										<ul class="dropdown-padding">
											<li><a href="../about.html">About Conference</a></li>
											<li><a href="../speakers.html">Our Speakers</a></li>
											<li><a href="../agenda.html">Conference Agenda</a></li>
											<li><a href="../faq.html">FAQs</a></li>
										</ul>
									</li>
									<li>
										<a href="../register.html">Register</i></a>
									</li>
									<li>
										<a href="../exhibition.html">Exhibition</a>
									</li>
									<li>
										<a href="../sponsors.html">Sponsors</a>
									</li>
									<li>
										<a href="../features.html">Features</a>
									</li>
								</ul>
							</div>
							<div class="body-overlay"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!--=====HEADER END =======-->

	<!--===== MOBILE HEADER STARTS =======-->
	<div class="mobile-header mobile-haeder4 d-block d-lg-none">
		<div class="container-fluid">
			<div class="col-12">
				<div class="mobile-header-elements">
					<a href="../index.html">
						<div class="site-logo" style="width: 150px;">
							<img src="../assets/img/sponsors_logo/new_logo.jpg" alt="logo">
						</div>
					</a>
					<div class="mobile-nav-icon dots-menu">
						<i class="fa-solid fa-bars-staggered"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="mobile-sidebar mobile-sidebar4">
		<div class="logosicon-area">
			<a href="../index.html">
				<div class="site-logo" style="width: 150px;">
					<img src="../assets/img/sponsors_logo/new_logo.jpg" alt="logo">
				</div>
			</a>
			<div class="menu-close">
				<i class="fa-solid fa-xmark"></i>
			</div>
		</div>
		<div class="mobile-nav mobile-nav1">
			<ul class="mobile-nav-list nav-list1">
				<li>
					<a href="../index.html">Home </a>
				</li>
				<li>
					<a href="../#">Conference <i class="fa-solid fa-angle-down"></i></a>
					<ul class="dropdown-padding">
						<li><a href="../about.html">About Conference</a></li>
						<li><a href="../speakers.html">Our Speakers</a></li>
						<li><a href="../agenda.html">Conference Agenda</a></li>
						<li><a href="../faq.html">FAQs</a></li>
					</ul>
				</li>
				<li>
					<a href="../register.html">Register</i></a>
				</li>
				<li>
					<a href="../exhibition.html">Exhibition</a>
				</li>
				<li>
					<a href="../sponsors.html">Sponsors</a>
				</li>
				<li>
					<a href="../features.html">Features</a>
				</li>

			</ul>
			<div class="allmobilesection">
				<a class="vl-btn4" href="../contact.html"><span class="demo">Contact Us</span></a>
				<div class="single-footer">
					<h3>Contact Info</h3>
					<div class="footer1-contact-info">
						<div class="contact-info-single">
							<div class="contact-info-icon">
								<span><i class="fa-solid fa-phone-volume"></i></span>
							</div>
							<div class="contact-info-text">
								<a href="../tel:+3(924)4596512">+3(924)4596512</a>
							</div>
						</div>
						<div class="contact-info-single">
							<div class="contact-info-icon">
								<span><i class="fa-solid fa-envelope"></i></span>
							</div>
							<div class="contact-info-text">
								<a href="../mailto:info@icmmcs.org">info@icmmcs.org</a>
							</div>
						</div>
						<div class="single-footer">
							<h3>Our Location</h3>
							<div class="contact-info-single">
								<div class="contact-info-icon">
									<span><i class="fa-solid fa-location-dot"></i></span>
								</div>
								<div class="contact-info-text">
									<a
										href="../https://www.google.com/maps/place/Sultan+Qaboos+University/@23.5912214,58.1695517,17z/data=!3m1!4b1!4m6!3m5!1s0x3e8de2c15540870d:0x2ce06efa9952a6e!8m2!3d23.5912214!4d58.1721266!16zL20vMDcybmgx?entry=ttu&g_ep=EgoyMDI1MDIwNC4wIKXMDSoASAFQAw%3D%3D">Muscat,
										Oman
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--===== MOBILE HEADER ENDS =======-->

	<!--===== HERO AREA STARTS =======-->
	<div class="inner-page-header" style="background-color: #019087;">
		<div class="container">
			<div class="row">
				<div class="col-lg-9 m-auto">
					<div class="heading1 text-center">
						<h1>Admin Dashboard</h1>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--===== HERO AREA ENDS =======-->

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container">
			<a class="navbar-brand" href="#">Admin Dashboard</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item">
						<button class="btn btn-outline-light" onclick="logout()">Logout</button>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container mt-4">
		<div class="referral-info">
			<h4>Your Referral Information</h4>
			<div class="row mt-3">
				<div class="col-md-6">
					<p><strong>Referral Code:</strong> <span id="referralCode"></span>
						<i class="fas fa-copy ms-2 copy-button" onclick="copyToClipboard('referralCode')"
							title="Copy referral code"></i>
					</p>
				</div>
				<div class="col-md-6">
					<p><strong>Referral Link:</strong> <span id="referralLink"></span>
						<i class="fas fa-copy ms-2 copy-button" onclick="copyToClipboard('referralLink')"
							title="Copy referral link"></i>
					</p>
				</div>
			</div>
		</div>

		<div class="card">
			<div class="card-header">
				<h5 class="mb-0">Your Referred Users</h5>
			</div>
			<div class="card-body">
				<div class="table-responsive user-list">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Name</th>
								<th>Email</th>
								<th>Registration Date</th>
								<th>Status</th>
							</tr>
						</thead>
						<tbody id="usersList">
							<!-- Users will be dynamically added here -->
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

	<!--===== FOOTER AREA STARTS =======-->
	<div class="footer4-sertion-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-6">
					<div class="footer-logo-area">
						<a href="../index.html">
							<div class="site-logo">
								<img src="../assets/img/sponsors_logo/footer_logo.png" alt="logo">
							</div>
						</a>
						<div class="space16"></div>
						<p>We are committed to provide the Intersection of Mathematical Insight, Management Excellence, and
							Technological Innovation.</p>
						<div class="space24"></div>
						<ul>
							<li>
								<a href="../#"><i class="fa-brands fa-facebook-f"></i></a>
							</li>
							<li>
								<a href="../#"><i class="fa-brands fa-instagram"></i></a>
							</li>
							<li>
								<a href="../#"><i class="fa-brands fa-linkedin-in"></i></a>
							</li>
							<li>
								<a href="../#" class="m-0"><i class="fa-brands fa-pinterest-p"></i></a>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-lg-2 col-md-6">
					<div class="link-content">
						<h3>Quick Links</h3>
						<ul>
							<li><a href="../about.html">Conference</a></li>
							<li><a href="../features.html">Features</a></li>
							<li><a href="../exhibition.html">Events</a></li>
							<li><a href="../register.html">Register</a></li>
							<li><a href="../sponsors.html">Sponsors</a></li>

						</ul>
					</div>
				</div>

				<div class="col-lg-3 col-md-6">
					<div class="link-content2">
						<h3>Contact Us</h3>
						<ul>
							<li>
								<a href="../tel:+11234567890" target="_blank"><img src="../assets/img/icons/phn1.svg" alt="" />+1 123
									456
									7890</a>
							</li>
							<li>
								<a href="../https://www.google.com/maps/place/Sultan+Qaboos+University/@23.5912214,58.1695517,17z/data=!3m1!4b1!4m6!3m5!1s0x3e8de2c15540870d:0x2ce06efa9952a6e!8m2!3d23.5912214!4d58.1721266!16zL20vMDcybmgx?entry=ttu&g_ep=EgoyMDI1MDIwNC4wIKXMDSoASAFQAw%3D%3D"
									target="_blank"><img src="../assets/img/icons/location1.svg" alt="" />Muscat, Oman
								</a>
							</li>
							<li>
								<a href="../mailto:info@icmmcs.org" target="_blank"><img src="../assets/img/icons/mail1.svg"
										alt="" />info@icmmcs.org</a>
							</li>
							<li>
								<a href="../https://www.icmmcs.org" target="_blank"><img src="../assets/img/icons/world1.svg"
										alt="" />www.icmmcs.org</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-lg-4 col-md-6">
					<div class="footer-social-box">
						<h3>Images of Muscat</h3>
						<div class="space12"></div>
						<div class="row">
							<div class="col-lg-4 col-md-4 col-4">
								<div class="img1">
									<img src="../assets/img/all-images/others/footer_img1.avif" alt="" />
									<div class="icons">
										<a href="https://www.instagram.com/xclusive_oman/"><i class="fa-brands fa-instagram"></i></a>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-4">
								<div class="img1">
									<img src="../assets/img/all-images/others/footer_img2.avif" alt="" />
									<div class="icons">
										<a href="https://www.instagram.com/xclusive_oman/"><i class="fa-brands fa-instagram"></i></a>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-4">
								<div class="img1">
									<img src="../assets/img/all-images/others/footer_img3.avif" alt="" />
									<div class="icons">
										<a href="https://www.instagram.com/xclusive_oman/"><i class="fa-brands fa-instagram"></i></a>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-4">
								<div class="img1">
									<img src="../assets/img/all-images/others/footer_img4.avif" alt="" />
									<div class="icons">
										<a href="https://www.instagram.com/xclusive_oman/"><i class="fa-brands fa-instagram"></i></a>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-4">
								<div class="img1">
									<img src="../assets/img/all-images/others/footer_img5.avif" alt="" />
									<div class="icons">
										<a href="https://www.instagram.com/xclusive_oman/"><i class="fa-brands fa-instagram"></i></a>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-4">
								<div class="img1">
									<img src="../assets/img/all-images/others/footer_img6.avif" alt="" />
									<div class="icons">
										<a href="https://www.instagram.com/xclusive_oman/"><i class="fa-brands fa-instagram"></i></a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="space60"></div>
			<div class="row">
				<div class="col-lg-12">
					<div class="copyright">
						<p>&copy; Copyright 2025- Xclusive Oman. All Right Reserved</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--===== FOOTER AREA ENDS =======-->

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		// Check authentication on page load
		document.addEventListener('DOMContentLoaded', function () {
			const token = localStorage.getItem('adminToken');
			if (!token) {
				window.location.href = 'index.html';
				return;
			}
			loadAdminInfo();
			loadReferredUsers();
		});

		async function loadAdminInfo() {
			try {
				const response = await fetch('http://localhost:5000/api/admin/info', {
					headers: {
						'Authorization': `Bearer ${localStorage.getItem('adminToken')}`
					}
				});
				const data = await response.json();
				document.getElementById('referralCode').textContent = data.referralCode;
				const referralLink = `${window.location.origin}/register.html?ref=${data.referralCode}`;
				document.getElementById('referralLink').textContent = referralLink;
			} catch (error) {
				console.error('Error loading admin info:', error);
			}
		}

		async function loadReferredUsers() {
			try {
				const response = await fetch('http://localhost:5000/api/admin/referred-users', {
					headers: {
						'Authorization': `Bearer ${localStorage.getItem('adminToken')}`
					}
				});
				const users = await response.json();
				displayUsers(users);
			} catch (error) {
				console.error('Error loading referred users:', error);
			}
		}

		function displayUsers(users = [""]) {
			const usersList = document.getElementById('usersList');
			if (users.length === 0) {
				usersList.innerHTML = `
                    <tr>
                        <td colspan="4" class="text-center">No referred users yet</td>
                    </tr>
                `;
				return;
			}

			usersList.innerHTML = users.map(user => `
                <tr>
                    <td>${user.name}</td>
                    <td>${user.email}</td>
                    <td>${new Date(user.createdAt).toLocaleDateString()}</td>
                    <td>
                        <span class="badge bg-${user.isPaid ? 'success' : 'warning'}">
                            ${user.isPaid ? 'Paid' : 'Pending'}
                        </span>
                    </td>
                </tr>
            `).join('');
		}

		async function copyToClipboard(elementId) {
			const text = document.getElementById(elementId).textContent;
			try {
				await navigator.clipboard.writeText(text);
				alert('Copied to clipboard!');
			} catch (err) {
				console.error('Failed to copy text: ', err);
			}
		}

		function logout() {
			localStorage.removeItem('adminToken');
			window.location.href = 'index.html';
		}
	</script>
	<!--===== JS SCRIPT LINK =======-->
	<script src="../assets/js/vendor/bootstrap.min.js"></script>
	<script src="../assets/js/vendor/fontawesome.js"></script>
	<script src="../assets/js/vendor/aos.js"></script>
	<script src="../assets/js/vendor/jquery.appear.js"></script>
	<script src="../assets/js/vendor/jquery.odometer.min.js"></script>
	<script src="../assets/js/vendor/sidebar.js"></script>
	<script src="../assets/js/vendor/magnific-popup.js"></script>
	<script src="../assets/js/vendor/gsap.min.js"></script>
	<script src="../assets/js/vendor/ScrollTrigger.min.js"></script>
	<script src="../assets/js/vendor/Splitetext.js"></script>
	<script src="../assets/js/vendor/mobilemenu.js"></script>
	<script src="../assets/js/vendor/owlcarousel.min.js"></script>
	<script src="../assets/js/vendor/nice-select.js"></script>
	<script src="../assets/js/vendor/waypoints.js"></script>
	<script src="../assets/js/vendor/slick-slider.js"></script>
	<script src="../assets/js/vendor/circle-progress.js"></script>
	<script src="../assets/js/main.js"></script>
</body>

</html>